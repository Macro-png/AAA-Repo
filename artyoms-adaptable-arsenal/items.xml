<?xml version="1.0" encoding="utf-8" ?>
<elements>
    <info>
        <name>Items</name>
        <update version="0.0.2">
            <file name="items.xml" url="https://raw.githubusercontent.com/Macro-png/AAA-Repo/refs/heads/main/artyoms-adaptable-arsenal/items.xml" />
        </update>
    </info>

    <!-- Relics -->
    <element name="Singing Snare" type="Magic Item" source="Artyom’s Adaptable Arsenal" id="ID_MACRO_AAA_MAGIC_ITEM_SINGING_SNARE">
        <description>
            <p>Forged for bards who dance between battle and melody, the Singing Snare is a silver-braided whip that hums with a haunting tune when wielded. Its handle is engraved with flowing musical notes, and the initials R.C. are delicately carved into the base. The whip’s magic resonates with the bard’s performance, enhancing their ability to heal and control the battlefield.</p>
            <p class="indent">While the Singing Snare is in a dormant state, the whip has 5 charges and regains 1d4 + 1 expended charges daily at dawn. While holding it, you can use an action to expend 1 or more of its charges to cast one of the following spells from it, using your spell save DC: <em>entangle</em> (1 charge) or <em>tasha’s mind whip</em> (2 charges)</p>
            <p class="indent">Additionally, You gain a +1 bonus to attack and damage rolls made with this magic weapon, and you can attempt to charm any creature that is hit by the whip. The creature must succeed on a Wisdom saving throw against your spell save DC or become charmed by you until the beginning of your next turn</p>
        </description>
        <setters>
            <set name="keywords">whip, bard</set>
            <set name="category">Magic Weapons</set>
            <set name="cost" currency="gp">0</set>
            <set name="type" addition="whip">Weapon</set>
            <set name="rarity">Relic</set>
            <set name="attunement" addition="by a bard">true</set>
            <set name="enhancement">1</set>
            <set name="weapon">whip</set>
            <set name="name-format">Singing Snare</set>
        </setters>
    </element>

    <!-- Magic Weapons -->
    <element name="Funker’s Enchanted Violin" type="Magic Item" source="Artyom’s Adaptable Arsenal" id="ID_MACRO_AAA_MAGIC_ITEM_FUNKER_ENCHANTED_VIOLIN">
        <description>
            <p>An exquisitely crafted violin, passed down through the Funker family, its melodies capable of weaving magic into the air. The body is engraved with intricate patterns of swirling notes, and its strings hum with unseen energy. With a flick of the wrist, the violin transforms into a shortbow as a bonus action, its bowstring shimmering like a thread of pure song.</p>
            <p>You can use an action to play the instrument and cast one of its spells. Once the instrument has been used to cast a spell, it can’t be used to cast another spell again until the next dawn. The spells use your spellcasting ability and spell save DC.</p>
            <p>You can play the instrument while casting a spell that causes any of its targets to be charmed on a failed saving throw, thereby imposing disadvantage on the save. This effect applies only if the spell has a somatic or a material component.</p>
            <p><strong>Spells:</strong> Fly, Invisibility, Levitate, Protection from Evil and Good, Barkskin, Cure Wounds, Fog Cloud</p>
            <p><strong>Transformation:</strong> As a bonus action, you can transform the violin back into a shortbow, and vice versa</p>
        </description>
        <setters>
            <set name="keywords">shortbow</set>
            <set name="category">Magic Weapons</set>
            <set name="cost" currency="gp">0</set>
            <set name="type" addition="shortbow">Weapon</set>
            <set name="rarity">Uncommon</set>
            <set name="attunement">true</set>
            <set name="weapon">shortbow</set>
            <set name="name-format">Funker’s Enchanted Violin</set>
        </setters>
    </element>

    <element name="Graviton Maul" type="Magic Item" source="Artyom’s Adaptable Arsenal" id="ID_MACRO_AAA_MAGIC_ITEM_GRAVITATIONAL_MAUL">
        <description>
            <p>This maul is made of a staff that has stones magically gravitating around its sphere in the shape of a huge hammer. You gain a +1 bonus to your attack and damage rolls made with this weapon.</p>
            <p>This weapon holds 4 charges and regains 1d4 charges at dawn. Once per turn you can expend a charge to use one of the following abilities (DC 15). Once a charge is used for one ability, the gravitational energy becomes unstable preventing the same ability from being used again until the other ability is first used. If the same ability is used consecutively the wielder must make a DC 15 Strength save or be subjected to the failure effect listed under the ability descriptions.</p>
            <p><strong>Push.</strong> When you hit a creature with this weapon, you can expend one charge to deal an additional 1d6 Force damage. Creatures of a size Huge or smaller must succeed on a DC 15 Strength saving throw or be pushed away from you, distance depending on the creature’s size (Gargantuan 5ft, Huge 10ft, Large 15ft, Medium or smaller 20ft). If this movement causes them to collide with an object or surface of their size or larger, they suffer an additional 2d6 bludgeoning damage.</p>
            <p><em>Failure effect:</em> If this effect is used consecutively, the gravity of the maul repels you 20ft from it. If you collide with an object or surface your size or larger, you suffer 2d6 bludgeoning damage.</p>
            <p><strong>Pull.</strong> Before you take the attack action with this weapon, you can expend a charge and force a creature up to Large that you can see within 20ft of you to make a strength saving throw or be pulled towards you. If they fail, you can make an attack with advantage against the creature when it enters your reach, which deals an additional 2d6 Force damage. If the target succeeds they are not pulled towards you and you can instead use your attack action on a creature within range.</p>
            <p><em>Failure effect:</em> If this effect is used consecutively, the gravity of the maul pulls on your body dealing you 2d6 Force damage.</p>
        </description>
        <setters>
            <set name="keywords">maul</set>
            <set name="category">Magic Weapons</set>
            <set name="cost" currency="gp">0</set>
            <set name="type" addition="maul">Weapon</set>
            <set name="rarity">Rare</set>
            <set name="attunement">true</set>
            <set name="enhancement">1</set>
            <set name="weapon">maul</set>
            <set name="name-format">Graviton Maul</set>
        </setters>
    </element>

    <element name="Lunar Scythe" type="Magic Item" source="Artyom’s Adaptable Arsenal" id="ID_MACRO_AAA_MAGIC_ITEM_LUNAR_SCYTHE">
        <description>
            <p>You have a +1 bonus to attack and damage rolls made with this magic weapon.</p>
        </description>
        <setters>
            <set name="keywords">glaive</set>
            <set name="category">Magic Weapons</set>
            <set name="cost" currency="gp">0</set>
            <set name="type" addition="glaive">Weapon</set>
            <set name="rarity">Uncommon</set>
            <set name="enhancement">1</set>
            <set name="weapon">glaive</set>
            <set name="name-format">Lunar Scythe</set>
        </setters>
    </element>

    <!-- Weapons -->
    <element name="Hook and Chain" type="Weapon" source="Artyom’s Adaptable Arsenal" id="ID_MACRO_AAA_WEAPON_HOOK_AND_CHAIN">
        <supports>ID_INTERNAL_WEAPON_CATEGORY_MARTIAL_MELEE, ID_INTERNAL_DAMAGE_TYPE_PIERCING,ID_INTERNAL_WEAPON_PROPERTY_LIGHT,ID_INTERNAL_WEAPON_PROPERTY_FINESSE,ID_INTERNAL_WEAPON_PROPERTY_THROWN,ID_NV_FLDS_WEAPON_PROPERTY_SPECIAL_CHAIN</supports>
        <description>
            <p>When you throw this weapon, you can choose to pull it back into your hand.</p>
            <p>Additionally, when you hit a creature with this weapon via a thrown attack, you can choose to force a contested Strength (Athletics) check against the target. On a success, you can pull the target anywhere in range, as long as it is always towards you.</p>
        </description>
        <setters>
            <set name="category">Weapons</set>
            <set name="cost" currency="gp">200</set>
            <set name="weight" lb="1">3 lb.</set>
            <set name="slot">onehand</set>
            <set name="range">15/30</set>
            <set name="damage" type="piercing">2d4</set>
            <set name="proficiency">ID_MACRO_AAA_WEAPON_PROFICIENCY_HOOK_AND_CHAIN</set>
        </setters>
    </element>

    <element name="Weapon Proficiency (Hook and Chain)" type="Proficiency" source="Artyom’s Adaptable Arsenal" id="ID_MACRO_AAA_WEAPON_PROFICIENCY_HOOK_AND_CHAIN">
        <supports>Weapon, Martial, Melee, ID_INTERNAL_WEAPON_CATEGORY_MARTIAL_MELEE, ID_INTERNAL_DAMAGE_TYPE_PIERCING,ID_INTERNAL_WEAPON_PROPERTY_LIGHT,ID_INTERNAL_WEAPON_PROPERTY_FINESSE,ID_INTERNAL_WEAPON_GROUP_MARTIAL</supports>
    </element>
    <append id="ID_MACRO_AAA_WEAPON_PROFICIENCY_MARTIAL_MELEE_WEAPONS">
        <rules>
            <grant type="Proficiency" id="ID_MACRO_AAA_WEAPON_PROFICIENCY_HOOK_AND_CHAIN" />
        </rules>
    </append>

    <!-- Magic armor -->
    <element name="Bulette Plate" type="Magic Item" source="Artyom’s Adaptable Arsenal" id="ID_MACRO_AAA_MAGIC_ITEM_ARMOR_BULETTE_PLATE">
        <description>
            <p>While wearing this armor, you gain tremorsense with a range of 10 feet. You can detect and pinpoint the origin of vibrations within this range, provided that you and the source of the vibrations are in contact with the same ground or substance. This sense cannot be used to detect flying or incorporeal creatures.</p>
        </description>
        <setters>
            <set name="keywords">plate</set>
            <set name="category">Magic Armor</set>
            <set name="cost" currency="gp">0</set>
            <set name="slot">body</set>
			<set name="type" addition="plate">Armor</set>
			<set name="rarity">Uncommon</set>
            <set name="attunement">true</set>
			<set name="armor">Plate</set>
        </setters>
        <rules>
			<grant type="Vision" id="ID_VISION_TREMORSENSE" />
			<stat name="tremorsense:range" value="10" />
		</rules>
    </element>

    <!-- Wondrous Items -->
    <element name="Coat of Many Pockets" type="Magic Item" source="Artyom’s Adaptable Arsenal" id="ID_MACRO_AAA_MAGIC_ITEM_COAT_OF_MANY_POCKETS">
        <description>
            <p>This finely crafted coat or cloak is tailored to fit its wearer perfectly. Its outer material varies, ranging from luxurious fabrics to sturdy leathers, often adorned with subtle, intricate patterns. While it may appear to be a mere fashionable garment, its true magic lies within.</p>
            <p><strong>Extradimensional Pockets.</strong>While wearing this coat, you can access an array of pockets that appear wherever you wish on the garment. These pockets function as a single Bag of Holding, all leading to the same extradimensional space. Only you, or creatures you designate, can retrieve or store items within the coat. Others attempting to access its contents find only mundane, empty pockets.</p>
        </description>
        <setters>
            <set name="category">Wondrous Items</set>
            <set name="cost" currency="gp">0</set>
            <set name="weight" lb="0">0 lb.</set>
            <set name="type">Wondrous Item</set>
            <set name="rarity">Rare</set>
            <set name="attunement">true</set>
        </setters>
    </element>

    <element name="Aqua's Oar" type="Magic Item" source="Artyom’s Adaptable Arsenal" id="ID_source_abbreviation_MAGIC_ITEM_name">
        <description>
            <p>While holding this oar, you can cast the <em>shape water</em> cantrip at will. Once per dawn, you can cast <em>control water</em> from it, using your spell save DC. You must hold the oar in both hands to use this property.</p>
        </description>
        <setters>
            <set name="category">Wondrous Items</set>
            <set name="cost" currency="gp">0</set>
            <set name="weight" lb="1">4 lb.</set>
            <set name="slot">onehand</set>
            <set name="type">Wondrous Items</set>
            <set name="rarity">Rare</set>
            <set name="attunement">true</set>
        </setters>
    </element>
</elements>